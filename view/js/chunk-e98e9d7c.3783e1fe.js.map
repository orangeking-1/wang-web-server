{"version":3,"sources":["webpack:///./src/views/messageBoard.vue?18b4","webpack:///src/views/messageBoard.vue","webpack:///./src/views/messageBoard.vue?7ad0","webpack:///./src/views/messageBoard.vue","webpack:///./src/assets/messageBoard.png","webpack:///./src/components/layout/comment.vue?8567","webpack:///./src/views/messageBoard.vue?f746","webpack:///./src/components/layout/comment.vue?7800","webpack:///src/components/layout/comment.vue","webpack:///./src/components/layout/comment.vue?732e","webpack:///./src/components/layout/comment.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","attrs","title","commentList","on","submitComment","addCommentFunc","deleteCommment","deleteCommmentFunc","staticRenderFns","src","__webpack_require__","alt","_v","messageBoardvue_type_script_lang_js_","name","components","comment","data","url","addCommentUrl","$wang","api","getCommentlistUrl","deleteCommentUrl","methods","getCommentFunc","_this","ajax","param","type","then","res","_this2","content","author","$store","state","userInfo","_id","code","$message","message","id","_this3","created","views_messageBoardvue_type_script_lang_js_","component","Object","componentNormalizer","options","__file","__webpack_exports__","module","exports","p","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_9_oneOf_1_0_node_modules_css_loader_index_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_9_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_comment_vue_vue_type_style_index_0_id_6d3f141a_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_9_oneOf_1_0_node_modules_css_loader_index_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_9_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_comment_vue_vue_type_style_index_0_id_6d3f141a_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0___default","n","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_9_oneOf_1_0_node_modules_css_loader_index_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_9_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_messageBoard_vue_vue_type_style_index_0_id_2397e37f_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_9_oneOf_1_0_node_modules_css_loader_index_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_9_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_messageBoard_vue_vue_type_style_index_0_id_2397e37f_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0___default","_s","staticStyle","color","length","_l","commentItem","index","key","avatar","width","height","account","created_time","click","$event","deleteCommentFunc","_e","autosize","minRows","placeholder","model","value","callback","$$v","expression","round","size","submitCommentFunc","commentvue_type_script_lang_js_","props","String","require","default","Array","required","canComment","isLoginState","$emit","$alert","confirmButtonText","$router","push","$confirm","cancelButtonText","catch","JSON","parse","sessionStorage","getItem","admin","layout_commentvue_type_script_lang_js_"],"mappings":"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","file":"js/chunk-e98e9d7c.3783e1fe.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"message\"},[_vm._m(0),_c('comment',{attrs:{\"title\":\"留言\",\"commentList\":_vm.commentList},on:{\"submitComment\":_vm.addCommentFunc,\"deleteCommment\":_vm.deleteCommmentFunc}})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"message-img\"},[_c('img',{attrs:{\"src\":require(\"../assets/messageBoard.png\"),\"alt\":\"message-img\"}}),_c('div',{staticClass:\"message-font\"},[_vm._v(\"留言板\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"message\">\n    <div class=\"message-img\">\n      <img src=\"../assets/messageBoard.png\" alt=\"message-img\">\n      <div class=\"message-font\">留言板</div>\n    </div>\n    <comment title=\"留言\" :commentList=\"commentList\" v-on:submitComment=\"addCommentFunc\" v-on:deleteCommment=\"deleteCommmentFunc\"></comment>\n  </div>\n</template>\n\n<script>\nimport comment from '@/components/layout/comment'\nexport default {\n  name: 'messageBoard',\n  components: {\n    comment\n  },\n  data () {\n    return {\n      commentList: [],\n      url: {\n        addCommentUrl: this.$wang.api.addCommentUrl,\n        getCommentlistUrl: this.$wang.api.getCommentlistUrl,\n        deleteCommentUrl: this.$wang.api.deleteCommentUrl\n      }\n    }\n  },\n  methods: {\n    // 获取留言列表\n    getCommentFunc () {\n      this.$wang.ajax({\n        url: this.url.getCommentlistUrl,\n        param: {\n          type: '1'\n        }\n      }).then(res => {\n        this.commentList = res.data\n      })\n    },\n    // 添加留言列表\n    addCommentFunc (data) {\n      let param = {\n        content: data,\n        author: this.$store.state.userInfo._id,\n        type: '1'\n      }\n      this.$wang.ajax({\n        url: this.url.addCommentUrl,\n        param\n      }).then(res => {\n        if (res.code === 0) {\n          this.$message({\n            message: '留言成功！',\n            type: 'success'\n          })\n          this.getCommentFunc()\n        } else {\n          this.$message({\n            message: '服务器出错',\n            type: 'error'\n          })\n        }\n      })\n    },\n    // 删除评论\n    deleteCommmentFunc (id) {\n      this.$wang.ajax({\n        url: this.url.deleteCommentUrl,\n        param: {\n          _id: id\n        }\n      }).then(res => {\n        if (res.code === 0) {\n          this.$message({\n            message: '删除评论成功！',\n            type: 'success'\n          })\n          this.getCommentFunc()\n        } else {\n          this.$message({\n            message: '服务器出错',\n            type: 'error'\n          })\n        }\n      })\n    }\n  },\n  created () {\n    this.getCommentFunc()\n  }\n}\n</script>\n\n<style scoped lang=\"sass\">\n.message\n  max-width: 800px\n  margin: 0 auto\n  .message-img\n    position: relative\n    img\n      width: 100%\n      border-radius: 30px\n      box-shadow: 0px 0px 10px #aaa\n    .message-font\n      font-size: 40px\n      font-weight: bold\n      text-shadow: 3px 3px 6px\n      opacity: 0.7\n      position: absolute\n      left: 50%\n      top: 50%\n      transform: translate(-50%, -50%)\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./messageBoard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./messageBoard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./messageBoard.vue?vue&type=template&id=2397e37f&scoped=true&\"\nimport script from \"./messageBoard.vue?vue&type=script&lang=js&\"\nexport * from \"./messageBoard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./messageBoard.vue?vue&type=style&index=0&id=2397e37f&scoped=true&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2397e37f\",\n  null\n  \n)\n\ncomponent.options.__file = \"messageBoard.vue\"\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/messageBoard.0c4fb369.png\";","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./comment.vue?vue&type=style&index=0&id=6d3f141a&scoped=true&lang=sass&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./comment.vue?vue&type=style&index=0&id=6d3f141a&scoped=true&lang=sass&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./messageBoard.vue?vue&type=style&index=0&id=2397e37f&scoped=true&lang=sass&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./messageBoard.vue?vue&type=style&index=0&id=2397e37f&scoped=true&lang=sass&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"comment\"},[_c('div',{staticClass:\"comment-title\"},[_c('div',{staticClass:\"line\"}),_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.title)+\" \"),_c('span',{staticStyle:{\"color\":\"#666\"}},[_vm._v(\"(\"+_vm._s(_vm.commentList.length)+\"条)\")])]),_c('div',{staticClass:\"line\"})]),_c('div',[(_vm.commentList.length > 0)?_vm._l((_vm.commentList),function(commentItem,index){return _c('div',{key:index,staticClass:\"comment-content\"},[_c('div',{staticClass:\"con-item\"},[_c('div',{staticClass:\"con-avatar\"},[(commentItem.author.avatar)?[_c('img',{attrs:{\"src\":commentItem.author.avatar,\"width\":\"100%\",\"height\":\"100%\",\"alt\":\"头像\"}})]:[_c('i',{staticClass:\"iconfont icon-huabanfuben\"})]],2),_c('div',{staticClass:\"con-message\"},[_c('div',{staticClass:\"author\"},[_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(commentItem.author.account))]),_c('span',{staticClass:\"time\"},[_vm._v(_vm._s(commentItem.created_time))])]),_c('div',{staticClass:\"message\"},[_vm._v(\"\\n              \"+_vm._s(commentItem.content)+\"\\n            \")]),(_vm.canComment)?_c('el-button',{staticClass:\"el-icon-delete\",attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.deleteCommentFunc(commentItem._id)}}},[_vm._v(\"删除\")]):_vm._e()],1)])])}):[_c('div',{staticClass:\"no-comment\"},[_vm._v(\"\\n        暂无评论，前去沙发\\n      \")])]],2),_c('div',{staticClass:\"comment-form\"},[_c('div',{staticClass:\"form-title\"},[_vm._v(\"\\n      发表评论：\\n    \")]),_c('div',{staticClass:\"form-con\"},[_c('el-input',{attrs:{\"autosize\":{ minRows: 4 },\"type\":\"textarea\",\"placeholder\":\"请填写评论\"},model:{value:(_vm.comment),callback:function ($$v) {_vm.comment=$$v},expression:\"comment\"}})],1),_c('div',{staticClass:\"submit\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\",\"size\":\"small\"},on:{\"click\":_vm.submitCommentFunc}},[_vm._v(\"提交\")])],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"comment\">\n    <div class=\"comment-title\">\n      <div class=\"line\"></div>\n      <div class=\"title\">{{title}} <span style=\"color: #666;\">({{commentList.length}}条)</span></div>\n      <div class=\"line\"></div>\n    </div>\n    <div>\n      <template v-if=\"commentList.length > 0\">\n        <div class=\"comment-content\" v-for=\"(commentItem, index) in commentList\" :key=\"index\">\n          <div class=\"con-item\">\n            <div class=\"con-avatar\">\n              <template v-if=\"commentItem.author.avatar\">\n                <img :src=\"commentItem.author.avatar\" width=\"100%\" height=\"100%\" alt=\"头像\">\n              </template>\n              <template v-else>\n                <i class=\"iconfont icon-huabanfuben\"></i>\n              </template>\n            </div>\n            <div class=\"con-message\">\n              <div class=\"author\">\n                <span class=\"name\">{{commentItem.author.account}}</span><span class=\"time\">{{commentItem.created_time}}</span>\n              </div>\n              <div class=\"message\">\n                {{commentItem.content}}\n              </div>\n              <!--<el-button type=\"text\"  class=\"el-icon-message\">回复</el-button>-->\n              <el-button type=\"text\"  class=\"el-icon-delete\" v-if=\"canComment\" @click=\"deleteCommentFunc(commentItem._id)\">删除</el-button>\n            </div>\n          </div>\n        </div>\n      </template>\n      <template v-else>\n        <div class=\"no-comment\">\n          暂无评论，前去沙发\n        </div>\n      </template>\n    </div>\n    <div class=\"comment-form\">\n      <div class=\"form-title\">\n        发表评论：\n      </div>\n      <div class=\"form-con\">\n        <el-input :autosize=\"{ minRows: 4 }\" type=\"textarea\" v-model=\"comment\" placeholder=\"请填写评论\"></el-input>\n      </div>\n      <div class=\"submit\">\n        <el-button type=\"primary\" round  size=\"small\" @click=\"submitCommentFunc\">提交</el-button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'comment',\n  props: {\n    title: {\n      type: String,\n      require: true,\n      default: '评论'\n    },\n    commentList: {\n      type: Array,\n      required: true\n    }\n  },\n  data () {\n    return {\n      comment: '',\n      canComment: false\n    }\n  },\n  methods: {\n    submitCommentFunc () {\n      // 判断是否登录过了\n      if (!this.$store.state.isLoginState) {\n        this.$alert('请您移步前去登录，然后发表评论啦😊', {\n          confirmButtonText: '确定',\n          callback: () => {\n            this.$router.push('/login')\n          }\n        })\n        return false\n      }\n      if (this.comment.length === 0) {\n        this.$message({\n          type: 'warning',\n          message: '请填写评论后再提交'\n        })\n        return false\n      }\n      this.$emit('submitComment', this.comment)\n      this.comment = ''\n    },\n    deleteCommentFunc (id) {\n      this.$confirm('此操作将永久删除该评论, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.$emit('deleteCommment', id)\n      }).catch(() => {})\n    }\n  },\n  created () {\n    this.canComment = this.$store.state.isLoginState && JSON.parse(sessionStorage.getItem('userInfo')).admin\n  }\n}\n</script>\n\n<style scoped lang=\"sass\">\n.comment\n  margin-top: 30px\n  .comment-title\n    font-size: 20px\n    font-weight: bold\n    text-align: center\n    margin-bottom: 20px;\n    display: flex\n    align-items: center\n    .title\n      padding: 0px 15px\n    .line\n      height: 2px\n      background-color: #666\n      flex: 1\n  .no-comment\n    text-align: center\n    font-size: 20px\n    color: #999\n  .comment-content\n    /*margin-top: 20px*/\n    padding: 20px 0px\n    border-bottom: 1px dashed #999\n    .con-item\n      display: flex\n      .con-avatar\n        width: 50px\n        height: 50px\n        border-radius: 25px\n        border: 1px solid #ccc\n        overflow: hidden\n        display: flex\n        align-items: center\n        justify-content: center\n        i\n          font-size: 30px\n          color: #409EFF\n      .con-message\n        flex: 1\n        padding-left: 20px\n        .author\n          padding: 5px 0px\n          font-size: 14px\n          .time\n            color: #666\n            padding-left: 20px\n          .name\n            font-weight: bold\n        .message\n          padding: 5px 0px\n          word-break: break-word\n        .reply\n          color: #409EFF\n          cursor: pointer\n          padding: 0px\n  .comment-form\n    padding: 30px 0px\n    .form-con\n      margin-top: 20px\n    .submit\n      margin-top: 10px\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./comment.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./comment.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./comment.vue?vue&type=template&id=6d3f141a&scoped=true&\"\nimport script from \"./comment.vue?vue&type=script&lang=js&\"\nexport * from \"./comment.vue?vue&type=script&lang=js&\"\nimport style0 from \"./comment.vue?vue&type=style&index=0&id=6d3f141a&scoped=true&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6d3f141a\",\n  null\n  \n)\n\ncomponent.options.__file = \"comment.vue\"\nexport default component.exports"],"sourceRoot":""}